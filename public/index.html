<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Christmas Wishlist</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1><a href="#" id="home-link" style="text-decoration:none;color:inherit;">üéÑ Christmas Wishlist</a></h1>
      <nav id="nav">
        <span id="user-info"></span>
        <button id="logout-btn" class="btn btn-secondary" style="display:none;">Logout</button>
      </nav>
    </header>

    <main id="app">
      <!-- Auth Section -->
      <section id="auth-section">
        <div class="auth-tabs">
          <button class="tab-btn active" data-tab="login">Login</button>
          <button class="tab-btn" data-tab="register">Register</button>
        </div>

        <form id="login-form" class="auth-form">
          <h2>Login</h2>
          <div class="form-group">
            <label for="login-email">Email</label>
            <input type="email" id="login-email" required>
          </div>
          <div class="form-group">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" required>
          </div>
          <button type="submit" class="btn btn-primary">Login</button>
          <p id="login-error" class="error"></p>
        </form>

        <form id="register-form" class="auth-form" style="display:none;">
          <h2>Create Account</h2>
          <div class="form-group">
            <label for="register-name">Your Name</label>
            <input type="text" id="register-name" required>
          </div>
          <div class="form-group">
            <label for="register-email">Email</label>
            <input type="email" id="register-email" required>
          </div>
          <div class="form-group">
            <label for="register-password">Password</label>
            <input type="password" id="register-password" required minlength="6">
          </div>
          <button type="submit" class="btn btn-primary">Create Account</button>
          <p id="register-error" class="error"></p>
        </form>
        <p class="auth-footer">...another incredible Video Walrus product</p>
      </section>

      <!-- Dashboard Section (Recipient) -->
      <section id="dashboard-section" style="display:none;">
        <div class="section-header">
          <h2>My Wishlists</h2>
          <button id="new-wishlist-btn" class="btn btn-primary">+ New Wishlist</button>
        </div>

        <div id="wishlists-container"></div>

        <!-- New Wishlist Modal -->
        <div id="new-wishlist-modal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>Create New Wishlist</h3>
            <form id="new-wishlist-form">
              <div class="form-group">
                <label for="wishlist-title">Title</label>
                <input type="text" id="wishlist-title" required placeholder="My Christmas 2025 Wishlist">
              </div>
              <div class="form-group">
                <label for="wishlist-end-date">End Date</label>
                <input type="date" id="wishlist-end-date">
              </div>
              <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('new-wishlist-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary">Create</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Wishlist Detail Section (Recipient) -->
      <section id="wishlist-detail-section" style="display:none;">
        <button id="back-to-dashboard" class="btn btn-link">‚Üê Back to My Wishlists</button>

        <div id="wishlist-header">
          <h2 id="wishlist-title-display"></h2>
          <p id="wishlist-end-date-display"></p>
          <div style="margin-top:10px; display:flex; gap:10px;">
            <button id="edit-wishlist-btn" class="btn btn-icon">‚úèÔ∏è</button>
          </div>
        </div>

        <div id="share-link-container" class="share-box">
          <h4>Share this link with gifters:</h4>
          <div class="share-link-row">
            <input type="text" id="share-link" readonly>
            <button id="copy-link-btn" class="btn btn-secondary">Copy</button>
          </div>
        </div>

        <div id="thank-you-section" style="display:none;">
          <h3>üéÅ Thank You List</h3>
          <p>Here's who got you what:</p>
          <div id="thank-you-list"></div>
        </div>

        <div id="items-section">
          <div class="section-header">
            <h3>Items on your list</h3>
            <button id="add-item-btn" class="btn btn-primary">+ Add Item</button>
          </div>
          <div id="items-container"></div>
        </div>

        <!-- Add Item Modal -->
        <div id="add-item-modal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>Add Item</h3>
            <form id="add-item-form">
              <div class="form-group">
                <label for="item-name">Item Name *</label>
                <input type="text" id="item-name" required placeholder="What do you want?">
              </div>
              <div class="form-group">
                <label for="item-description">Description</label>
                <textarea id="item-description" placeholder="Size, color, specific version..."></textarea>
              </div>
              <div class="form-group">
                <label for="item-link">Link (optional)</label>
                <input type="url" id="item-link" placeholder="https://...">
              </div>
              <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('add-item-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Item</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Edit Item Modal -->
        <div id="edit-item-modal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>Edit Item</h3>
            <form id="edit-item-form">
              <input type="hidden" id="edit-item-id">
              <div class="form-group">
                <label for="edit-item-name">Item Name *</label>
                <input type="text" id="edit-item-name" required placeholder="What do you want?">
              </div>
              <div class="form-group">
                <label for="edit-item-description">Description</label>
                <textarea id="edit-item-description" placeholder="Size, color, specific version..."></textarea>
              </div>
              <div class="form-group">
                <label for="edit-item-link">Link (optional)</label>
                <input type="url" id="edit-item-link" placeholder="https://...">
              </div>
              <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('edit-item-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Edit Wishlist Modal -->
        <div id="edit-wishlist-modal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>Edit Wishlist</h3>
            <form id="edit-wishlist-form">
              <div class="form-group">
                <label for="edit-wishlist-title">Title *</label>
                <input type="text" id="edit-wishlist-title" required placeholder="My Christmas Wishlist">
              </div>
              <div class="form-group">
                <label for="edit-wishlist-end-date">End Date</label>
                <input type="date" id="edit-wishlist-end-date">
              </div>
              <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('edit-wishlist-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Gifter Section (Public) -->
      <section id="gifter-section" style="display:none;">
        <div id="gifter-header">
          <h2 id="gifter-wishlist-title"></h2>
          <p id="gifter-recipient-name"></p>
          <p id="gifter-end-date"></p>
        </div>

        <div id="gifter-expired" style="display:none;">
          <p class="expired-message">üéÑ This wishlist has expired. Thanks for being a great gifter!</p>
        </div>

        <div id="gifter-items-container"></div>

        <!-- Claim Modal -->
        <div id="claim-modal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>Claim This Gift</h3>
            <p id="claim-item-name"></p>
            <form id="claim-form">
              <input type="hidden" id="claim-item-id">
              <div class="form-group">
                <label for="gifter-name">Your Name *</label>
                <input type="text" id="gifter-name" required placeholder="So they know who to thank!">
              </div>
              <div class="form-group">
                <label for="gifter-email">Your Email (optional)</label>
                <input type="email" id="gifter-email" placeholder="For thank you notes">
              </div>
              <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal('claim-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary">I'll Get This!</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="/app.js"></script>
</body>
</html>
